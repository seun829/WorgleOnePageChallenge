<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Worgle</title>


        <style>
            /* ****  CSS Feature submission ****
            -Dark themed body and global typography
            -Styled game-card container (border, padding, radius)
            -Letter tile states (correct / present / absent colors)
            -On-screen keyboard buttons with hover interaction
            **** */

            body {
                margin: 0;
                min-height: 100vh;
                background-color: #1f2937; 
                color: #f9fafb;
                font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            }

            main {
                min-height: 100vh;
                padding: 16px;
            }

            .game-card {
                background-color: #2d3748;
                border: 1px solid #4b5563;
                border-radius: 12px;
                padding: 16px;
                width: 100%;
                color: #f9fafb;
            }

            .game-header {
                display: flex;
                align-items: center;
                justify-content: space-between;
                margin-bottom: 16px;
            }

            .game-title {
                font-family: "creepster", system-ui, sans-serif;
                font-size: 28px;
                color: #f97316;
                text-align: center;
                flex: 1;
            }

            .stat-pill {
                min-width: 110px;
                padding: 6px 10px;
                border-radius: 999px;
                border: 1px solid #9ca3af;
                background-color: #374151;
                font-size: 12px;
                display: inline-flex;
                align-items: center;
                justify-content: space-between;
                color: #f9fafb;
            }

            .stat-pill-label {
                text-transform: uppercase;
                letter-spacing: 0.1em;
                font-weight: 600;
                font-size: 10px;
            }

            .stat-pill-value {
                font-weight: 700;
                font-size: 13px;
            }

            #instructions {
                font-size: 14px;
                border-radius: 10px;
                border: 1px #9ca3af;
                background-color: #111827;
                padding: 10px 12px;
                margin-bottom: 16px;
                color: #e5e7eb;
            }

            #instructions strong {
                color: #f97316;
            }

            #instructions ul {
                padding-left: 18px;
                margin-bottom: 8px;
            }

            #game-board {
                background-color: #111827;
                border-radius: 10px;
                border: 1px solid #6b7280;
                padding: 12px 8px;
                margin-bottom: 16px;
                text-align: center;
            }

            .letter-row {
                display: flex;
                justify-content: center;
                gap: 6px;
                margin-bottom: 6px;
            }

            .letter-tile {
                width: 42px;
                height: 46px;
                border-radius: 4px;
                border: 2px solid #9ca3af;
                background-color: #1f2937;
                color: #f9fafb;
                display: flex;
                align-items: center;
                justify-content: center;
                font-weight: 700;
                font-size: 18px;
                text-transform: uppercase;
            }

            .letter-tile.correct {
                background-color: #16a34a;
                color: #ffffff;
            }

            .letter-tile.present {
                background-color: #fbbf24;
                color: #111827;
            }

            .letter-tile.absent {
                background-color: #4b5563;
                color: #f9fafb;
            }

            #keyboard {
                width: 100%;
                text-align: center;
            }

            .keyboard-row {
                display: flex;
                justify-content: center;
                gap: 4px;
                margin-bottom: 4px;
            }

            .key-btn {
                flex: 1 0 auto;
                max-width: 44px;
                border-radius: 6px;
                border: 1px solid #6b7280;
                background-color: #1f2937;
                padding: 6px 4px;
                font-size: 12px;
                font-weight: 600;
                text-transform: uppercase;
                color: #f9fafb;
                cursor: pointer;
            }

            .key-btn.wide {
                max-width: none;
                padding-inline: 8px;
            }

            .key-btn:hover {
                background-color: #374151;
            }

            .game-footer {
                margin-top: 8px;
                font-size: 13px;
                color: #d1d5db;
                text-align: center;
            }

            .game-footer span {
                border-radius: 999px;
                padding: 2px 8px;
                margin-left: 4px;
                border: 1px solid #f97316;
                color: #f97316;
            }
        </style>


        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://use.edgefonts.net/creepster.js"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    </head>

    <body>
        <!-- ****  HTML Feature submission **** -->
        <!-- Semantic layout using main, section, header -->
        <!-- ****  Bootstrap Feature submission **** -->
        <!-- Bootstrap container-fluid for full-width app -->
        <main class="container-fluid">
            <!-- ****  Bootstrap Feature submission **** -->
            <!-- Bootstrap row for layout -->
            <section class="row">
                <!-- ****  Bootstrap Feature submission **** -->
                <!-- Bootstrap column for responsive sizing -->
                <div class="col-12">
                    <div class="game-card">
                        <!-- ****  HTML Feature submission **** -->
                        <!-- Header with high score and timer -->
                        <header class="game-header">
                            <div id="high-score" class="stat-pill">
                                <span class="stat-pill-label">High</span>
                                <span class="stat-pill-value" id="high-score-value">0 sec</span>
                            </div>

                            <h1 class="game-title mb-0">Worgle</h1>

                            <div id="timer" class="stat-pill">
                                <span class="stat-pill-label">Time</span>
                                <span class="stat-pill-value" id="timer-value">00:00</span>
                            </div>
                        </header>

                        <!-- ****  HTML Feature submission **** -->
                        <!-- Instructions and lives display -->
                        <div id="instructions">
                            <p>Guess the hidden 6-letter word in up to 8 lives.</p>
                            <ul>
                                <li>Each guess must be a 6-letter word.</li>
                                <li>Tiles change color to show how close your guess is.</li>
                                <li>Use your 8 lives wisely and try to beat your best time.</li>
                            </ul>
                            <div class="d-flex justify-content-between align-items-center">
                                <span>Lives: <span id="lives-value">8</span></span>
                                <!-- ****  Bootstrap Feature submission **** -->
                                <!-- Bootstrap styled New Game button -->
                                <button type="button" class="btn btn-outline-light btn-sm" id="new-game-button">New Game</button>
                            </div>

                            <!-- ****  HTML Feature submission **** -->
                            <!-- Forms input for manual guess submission -->
                            <form id="guess-form" class="mt-2">
                                <input type="text" id="guess-input" maxlength="6" class="form-control form-control-sm" placeholder="Type a 6-letter word">
                                <button type="submit" class="btn btn-sm btn-outline-light mt-2">Submit Guess</button>
                            </form>
                        </div>

                        <!-- ****  HTML Feature submission **** -->
                        <!-- Game board built with data-row attributes -->
                        <section id="game-board">
                            <div class="letter-row" data-row="0">
                                <div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div>
                            </div>
                            <div class="letter-row" data-row="1">
                                <div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div>
                            </div>
                            <div class="letter-row" data-row="2">
                                <div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div>
                            </div>
                            <div class="letter-row" data-row="3">
                                <div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div>
                            </div>
                            <div class="letter-row" data-row="4">
                                <div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div>
                            </div>
                            <div class="letter-row" data-row="5">
                                <div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div>
                            </div>
                            <div class="letter-row" data-row="6">
                                <div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div>
                            </div>
                            <div class="letter-row" data-row="7">
                                <div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div><div class="letter-tile"></div>
                            </div>
                        </section>

                        <!-- ****  HTML Feature submission **** -->
                        <!-- On-screen keyboard for input -->
                        <section id="keyboard">
                            <div class="keyboard-row">
                                <button class="key-btn">Q</button><button class="key-btn">W</button><button class="key-btn">E</button><button class="key-btn">R</button><button class="key-btn">T</button><button class="key-btn">Y</button><button class="key-btn">U</button><button class="key-btn">I</button><button class="key-btn">O</button><button class="key-btn">P</button>
                            </div>
                            <div class="keyboard-row">
                                <button class="key-btn">A</button><button class="key-btn">S</button><button class="key-btn">D</button><button class="key-btn">F</button><button class="key-btn">G</button><button class="key-btn">H</button><button class="key-btn">J</button><button class="key-btn">K</button><button class="key-btn">L</button>
                            </div>
                            <div class="keyboard-row">
                                <button class="key-btn wide">Enter</button><button class="key-btn">Z</button><button class="key-btn">X</button><button class="key-btn">C</button><button class="key-btn">V</button><button class="key-btn">B</button><button class="key-btn">N</button><button class="key-btn">M</button><button class="key-btn wide">Del</button>
                            </div>
                        </section>

                    </div>
                </div>
            </section>
        </main>

        <!-- ****  JavaScript Feature submission **** -->
        <!-- Timer and high score DOM updates -->
        <!-- ****  JavaScript Feature submission **** -->
        <!-- Random word selection and lives tracking -->
        <!-- ****  JavaScript Feature submission **** -->
        <!-- Keyboard input handling (physical and on-screen) -->
        <!-- ****  JavaScript Feature submission **** -->
        <!-- Tile coloring based on guess correctness -->
        <script>
            let lives = 8;
            let totalSeconds = 0;
            let highestSeconds = 0;
            let timerInterval;
            let targetWord = "";
            let gameActive = false;
            let currentCol = 0;

            const WORD_LIST = [
                "STREAM","POISON","SHADOW","ORANGE","PLANET","SECRET",
                "SILVER","TUNNEL","GOBLIN","DRAGON","PUZZLE","CASTLE",
                "JUNGLE","ROCKET","MONSTER","SPIDER","MAGNET","GARDEN",
                "THRONE","MARKET","CANDLE","CIRCLE","BUTTON","COFFEE",
                "PIRATE","NUGGET","SCHOOL","TEMPLE","WINDOW","OCEANS",
                "GALAXY","SPOOKY","TARGET","BRIDGE","TICKET","POCKET",
                "BOTTLE","SILENT","RANDOM","VECTOR","GUITAR","PENCIL",
                "STORMY","COOKIE","PEBBLE","SHIELD","BEACON","ANCHOR",
                "FROZEN","CLOVER","BRIGHT","SHIVER","VISION","MOTION",
                "RECORD","STRING","SUMMER","RIDDLE","THORNS","SLEEPY",
                "NATION","ORCHID","LAGOON","SHRINE","MIRROR","DANGER",
                "FROSTY","TIGERS","BREEZE","POETRY","VELVET","SPIRAL",
                "STARRY","CIRCUS","WIZARD","CRYSTL","FUSION","INSECT",
                "TRAVEL","BROKEN","HUNTER","SWORDS","VOYAGE","FUTURE",
                "SPOKEN","MAGICS","BEASTS","THREAD","STRONG"
            ];

            function pickRandomWord() {
                const index = Math.floor(Math.random() * WORD_LIST.length);
                return WORD_LIST[index];
            }

            function startTimer() {
                timerInterval = setInterval(function() {
                    totalSeconds = totalSeconds + 1;

                    const minutes = Math.floor(totalSeconds / 60);
                    const seconds = totalSeconds % 60;

                    let timer = document.getElementById('timer-value');

                    let formattedMinutes;
                    if (minutes < 10) {
                        formattedMinutes = '0' + minutes;
                    } else {
                        formattedMinutes = String(minutes);
                    }

                    let formattedSeconds;
                    if (seconds < 10) {
                        formattedSeconds = '0' + seconds;
                    } else {
                        formattedSeconds = String(seconds);
                    }

                    timer.innerHTML = formattedMinutes + ':' + formattedSeconds;
                }, 1000);
            }

            function stopTimer() {
                clearInterval(timerInterval);
            }

            function resetTimer() {
                let timer = document.getElementById('timer-value');
                timer.innerHTML = "00:00";
                totalSeconds = 0;
            }

            function clearBoard() {
                const tiles = document.querySelectorAll('.letter-tile');
                tiles.forEach(function(tile) {
                    tile.textContent = "";
                    tile.classList.remove('correct', 'present', 'absent');
                });
            }

            function updateLivesDisplay() {
                const livesSpan = document.getElementById('lives-value');
                livesSpan.textContent = lives;
            }

            function startNewGame() {
                stopTimer();
                updateHighScore();
                resetTimer();
                clearBoard();
                lives = 8;
                currentCol = 0;
                gameActive = true;
                targetWord = pickRandomWord();
                updateLivesDisplay();
                startTimer();
            }

            let newGameButton = document.getElementById('new-game-button');
            newGameButton.addEventListener("click", function() {
                startNewGame();
            });

            function checkRow() {
                const gameBoard = document.getElementById('game-board');
                const rowIndex = 8 - lives;
                return gameBoard.querySelector('[data-row="' + rowIndex + '"]');
            }

            function colorRowTiles(letterTiles, guess) {
                const target = targetWord.toLowerCase().split('');
                const guessArr = guess.split('');
                const result = new Array(6).fill('absent');
                const remaining = target.slice();

                let i;
                for (i = 0; i < 6; i++) {
                    if (guessArr[i] === target[i]) {
                        result[i] = 'correct';
                        remaining[i] = null;
                    }
                }

                for (i = 0; i < 6; i++) {
                    if (result[i] === 'correct') {
                        continue;
                    }
                    const idx = remaining.indexOf(guessArr[i]);
                    if (idx !== -1) {
                        result[i] = 'present';
                        remaining[idx] = null;
                    }
                }

                for (i = 0; i < 6; i++) {
                    letterTiles[i].classList.remove('correct', 'present', 'absent');
                    letterTiles[i].classList.add(result[i]);
                }
            }

            function handleEnter() {
                if (!gameActive) return;
                if (currentCol < 6) return;

                const dataRow = checkRow();
                const letterTiles = dataRow.querySelectorAll('.letter-tile');
                let guess = "";
                letterTiles.forEach(function(tile) {
                    guess = guess + tile.textContent.toLowerCase();
                });

                if (guess.length !== 6) return;

                colorRowTiles(letterTiles, guess);

                if (guess === targetWord.toLowerCase()) {
                    gameActive = false;
                    stopTimer();
                    updateHighScore();
                    return;
                }

                lives = lives - 1;
                updateLivesDisplay();
                currentCol = 0;

                if (lives <= 0) {
                    gameActive = false;
                    stopTimer();
                }
            }

            function handleLetter(letter) {
                if (!gameActive) return;
                if (lives <= 0) return;
                if (currentCol >= 6) return;

                const dataRow = checkRow();
                const letterTiles = dataRow.querySelectorAll('.letter-tile');
                letterTiles[currentCol].textContent = letter.toUpperCase();
                currentCol = currentCol + 1;
            }

            function handleBackspace() {
                if (!gameActive) return;
                if (currentCol <= 0) return;

                const dataRow = checkRow();
                const letterTiles = dataRow.querySelectorAll('.letter-tile');
                currentCol = currentCol - 1;
                letterTiles[currentCol].textContent = "";
            }

            function checkGameWon() {
                const gameBoard = document.getElementById('game-board');
                let rowIndex;
                for (rowIndex = 0; rowIndex < 8; rowIndex++) {
                    const dataRow = gameBoard.querySelector('[data-row="' + rowIndex + '"]');
                    const letterTiles = dataRow.querySelectorAll('.letter-tile');
                    let guess = "";
                    letterTiles.forEach(function(tile) {
                        guess = guess + tile.textContent.toLowerCase();
                    });
                    if (guess.length === 6 && guess === targetWord.toLowerCase()) {
                        return true;
                    }
                }
                return false;
            }

            function updateHighScore() {
                if (checkGameWon()) {
                    if (totalSeconds > highestSeconds) {
                        highestSeconds = totalSeconds;
                    }
                    let highScore = document.getElementById('high-score-value');
                    highScore.innerHTML = highestSeconds + ' sec';
                }
            }

            document.addEventListener('keydown', function(event) {
                if (!gameActive) return;
                const key = event.key;

                if (/^[a-zA-Z]$/.test(key)) {
                    handleLetter(key);
                } else if (key === "Backspace") {
                    handleBackspace();
                } else if (key === "Enter") {
                    handleEnter();
                }
            });

            const keyButtons = document.querySelectorAll('.key-btn');
            keyButtons.forEach(function(btn) {
                btn.addEventListener('click', function() {
                    const label = btn.textContent.trim();
                    if (label === "Enter") {
                        handleEnter();
                    } else if (label === "Del" || label === "Backspace") {
                        handleBackspace();
                    } else if (/^[A-Z]$/i.test(label)) {
                        handleLetter(label);
                    }
                });
            });

            const guessForm = document.getElementById('guess-form');
            guessForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const input = document.getElementById('guess-input');
                const guess = input.value.trim().toUpperCase();
                input.value = "";
                if (!gameActive) return;
                if (guess.length !== 6) return;
                let i;
                for (i = 0; i < 6; i++) {
                    handleLetter(guess[i]);
                }
                handleEnter();
            });

            startNewGame();
        </script>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    </body>
</html>
